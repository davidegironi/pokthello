{"version":3,"sources":["pages/Main/Main.module.css","pages/Body.module.css","pages/Main/Main.js","pages/Body.js","index.js"],"names":["module","exports","Main","useState","searchname","setSearchname","error","setError","founditem","setFounditem","issearching","setIssearching","favorites","setFavorites","search","name","a","localeitem","find","r","searchurl","process","axios","get","response","status","data","description","message","useEffect","favoritesstorage","localStorage","getItem","JSON","parse","getFavorites","className","s","contentfavorites","length","favoritesitemcontainer","map","item","key","favoritesitem","type","classNames","buttonround","favoritesitembutton","disabled","onClick","toUpperCase","content","inputcontentainer","input","placeholder","value","onChange","e","target","searchbutton","toLowerCase","searchresult","searchresulttitle","buttonfavoritesremovecontainer","favoritesremovebutton","favoritesnew","filter","setItem","stringify","removeFavorites","buttonfavoritesaddcontainer","favoritesaddbutton","addFavorites","Body","header","logocontainer","logo","logosub","main","footer","footertext","href","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8f138750.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Main_content__1aTog\",\"contentfavorites\":\"Main_contentfavorites__1FrxI\",\"input\":\"Main_input__1Th8V\",\"buttonround\":\"Main_buttonround__11M0f\",\"searchbutton\":\"Main_searchbutton__1s8wR\",\"favoritesaddbutton\":\"Main_favoritesaddbutton__12q4D\",\"favoritesremovebutton\":\"Main_favoritesremovebutton__3ry7P\",\"favoritesitembutton\":\"Main_favoritesitembutton__jrY87\",\"favoritesitemcontainer\":\"Main_favoritesitemcontainer__2fpXW\",\"favoritesitem\":\"Main_favoritesitem__2uv_v\",\"buttonfavoritesaddcontainer\":\"Main_buttonfavoritesaddcontainer__2sTfu\",\"buttonfavoritesremovecontainer\":\"Main_buttonfavoritesremovecontainer__3R984\",\"error\":\"Main_error__eeWyy\",\"searchresult\":\"Main_searchresult__2hIQh\",\"searchresulttitle\":\"Main_searchresulttitle__29TNz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Body_content__3-DKB\",\"header\":\"Body_header__1zyoM\",\"footer\":\"Body_footer__2DY4K\",\"footertext\":\"Body_footertext__20hlh\",\"main\":\"Body_main__1jutW\",\"logocontainer\":\"Body_logocontainer__Nzik5\",\"logo\":\"Body_logo__8DimU\",\"logosub\":\"Body_logosub__Yxg7b\"};","// Copyright (c) 2020 Davide Gironi\n// Please refer to LICENSE file for licensing information.\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport classNames from 'classnames';\n\n// load style\nimport s from './Main.module.css';\n\nexport default function Main() {\n  // states\n  const [searchname, setSearchname] = useState('');\n  const [error, setError] = useState(null);\n  const [founditem, setFounditem] = useState(null);\n  const [issearching, setIssearching] = useState(false);\n  const [favorites, setFavorites] = useState([]);\n\n  /**\n   * add item to favorites\n   * @param {object} item\n   */\n  function addFavorites(item) {\n    if (!favorites.find((r) => r.name === item.name)) {\n      const favoritesnew = [\n        ...favorites,\n        item,\n      ];\n      setFavorites(favoritesnew);\n      localStorage.setItem('favorites', JSON.stringify(favoritesnew));\n    }\n  }\n\n  /**\n   * remove item to favorites\n   * @param {string} name\n   */\n  function removeFavorites(name) {\n    const favoritesnew = favorites.filter((r) => r.name !== name);\n    setFavorites(favoritesnew);\n    localStorage.setItem('favorites', JSON.stringify(favoritesnew));\n  }\n\n  /**\n   * get favorites\n   */\n  function getFavorites() {\n    const favoritesstorage = localStorage.getItem('favorites');\n    if (favoritesstorage) setFavorites(JSON.parse(favoritesstorage));\n  }\n\n  // effects - reset on search changed\n  useEffect(() => {\n    setError(null);\n    if (!searchname) setFounditem(null);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    else if (founditem) setFounditem(null);\n  }, [searchname]);\n\n  // effects - load favorites\n  useEffect(() => {\n    getFavorites();\n  }, []);\n\n  /**\n   * search a pokemon by name\n   * @param {string} name\n   */\n  async function search(name) {\n    // validate\n    if (!name) {\n      setError(null);\n      return;\n    }\n    // search local storage\n    const localeitem = favorites.find((r) => r.name === name);\n    if (localeitem) {\n      setFounditem(localeitem);\n      return;\n    }\n    // search online\n    setIssearching(true);\n    setFounditem(null);\n    setError(null);\n    try {\n      const searchurl = `${process.env.REACT_APP_APIURL}${name}`;\n      const response = await axios.get(searchurl);\n      if (response && response.status === 200 && response.data\n        && response.data.name && response.data.description) {\n        setFounditem({\n          name: response.data.name,\n          description: response.data.description,\n        });\n      } else setError('Error fetching data');\n    } catch (err) {\n      if (err.response && err.response.data && err.response.data.error) {\n        setError(err.response.data.error);\n      } else setError(err.message);\n    }\n    setIssearching(false);\n  }\n\n  return (\n    <div>\n      <div className={s.contentfavorites}>\n        {favorites && favorites.length > 0\n          ? (\n            <div className={s.favoritesitemcontainer}>\n              {favorites.map((item) => (\n                <div\n                  key={item.name}\n                  className={s.favoritesitem}\n                >\n                  <button\n                    type=\"button\"\n                    className={classNames(s.buttonround, s.favoritesitembutton)}\n                    disabled={issearching}\n                    onClick={() => {\n                      search(item.name);\n                    }}\n                  >\n                    {item.name.toUpperCase()}\n                  </button>\n                </div>\n              ))}\n            </div>\n          )\n          : null }\n      </div>\n      <div className={s.content}>\n        <div className={s.inputcontentainer}>\n          <input\n            type=\"text\"\n            className={s.input}\n            placeholder=\"Search your pokemon\"\n            value={searchname}\n            disabled={issearching}\n            onChange={(e) => setSearchname(e.target.value)}\n          />\n        </div>\n        <button\n          type=\"button\"\n          className={classNames(s.buttonround, s.searchbutton)}\n          disabled={issearching}\n          onClick={() => {\n            search(searchname.toLowerCase());\n          }}\n        >\n          {issearching ? 'Searching...' : 'Search'}\n        </button>\n        {error\n          ? <div className={s.error}>{error}</div>\n          : null}\n        {founditem\n          ? (\n            <div className={s.searchresult}>\n              <div className={s.searchresulttitle}>{founditem.name.toUpperCase()}</div>\n              {founditem.description}\n              {favorites.find((r) => r.name === founditem.name)\n                ? (\n                  <div className={s.buttonfavoritesremovecontainer}>\n                    <button\n                      type=\"button\"\n                      className={classNames(s.buttonround, s.favoritesremovebutton)}\n                      onClick={() => {\n                        removeFavorites(founditem.name.toLowerCase());\n                        setSearchname('');\n                        setFounditem(null);\n                      }}\n                      disabled={issearching}\n                    >\n                      Remove From Favorites\n                    </button>\n                  </div>\n                )\n                : (\n                  <div className={s.buttonfavoritesaddcontainer}>\n                    <button\n                      className={classNames(s.buttonround, s.favoritesaddbutton)}\n                      type=\"button\"\n                      onClick={() => {\n                        addFavorites({\n                          name: founditem.name.toLowerCase(),\n                          description: founditem.description,\n                        });\n                        setSearchname('');\n                        setFounditem(null);\n                      }}\n                      disabled={issearching}\n                    >\n                      Add To Favorites\n                    </button>\n                  </div>\n                )}\n            </div>\n          )\n          : null}\n      </div>\n    </div>\n  );\n}\n","// Copyright (c) 2020 Davide Gironi\n// Please refer to LICENSE file for licensing information.\n\nimport React from 'react';\n\n// load components\nimport Main from './Main/Main';\n\n// load style\nimport s from './Body.module.css';\n\nexport default function Body() {\n  return (\n    <div className={s.content}>\n      <header className={s.header}>\n        <div className={s.logocontainer}>\n          <div className={s.logo}>\n            pOkTHELLO\n          </div>\n          <div className={s.logosub}>\n            How would Shakespeare describe your pokemon?\n          </div>\n        </div>\n      </header>\n      <main className={s.main}>\n        <Main />\n      </main>\n      <footer className={s.footer}>\n        <div className={s.footertext}>\n          <div>Copyright (&copy;) Davide Gironi, 2020</div>\n          <a href=\"https://github.com/davidegironi/pokthello\">https://github.com/davidegironi/pokthello</a>\n        </div>\n      </footer>\n    </div>\n  );\n}\n","// Copyright (c) 2020 Davide Gironi\n// Please refer to LICENSE file for licensing information.\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Body from './pages/Body';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Body />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}